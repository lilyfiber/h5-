!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lazyload=t():e.Lazyload=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=o,e.exports=o.default},function(e,t,n){"use strict";t.__esModule=!0;var o=n(2),i=n(3),r=new i.default,c=new i.default;document.documentElement;window.addEventListener("scroll",function(e){r.forEach(function(e){e()})},!0),window.addEventListener("scrollEnd",function(e){c.forEach(function(e){e()})},!0);var a=function(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=function(){});var i=e.getBoundingClientRect();(i.bottom>=0-n&&i.bottom<=window.screen.height+n||i.top>=0-n&&i.top<=window.screen.height+n)&&(i.right>=0&&i.right<=window.screen.width||i.left>=0&&i.left<=window.screen.width)&&e.src!=e.newSrc&&e.newSrc&&(e.src=e.newSrc,e.onload=function(){e.style.opacity="1",e.onload=function(){},r.delete(e.__scrollListener__),c.delete(e.__scrollEndListener__),e.__scrollListener__=null,e.__scrollEndListener__=null},e.style.transition="opacity "+t+"ms",o())},s=function(e){var t=e.lastPos,n=e.lastSpeeds,o=e.aveSpeed,i=document.body.getBoundingClientRect(),r=i.top,c=t-r;n.length<10?n.push(c):(n.shift(),n.push(c));var a=0;return n.forEach(function(e){a+=e}),o=Math.abs(a/n.length),t=r,{lastPos:t,lastSpeeds:n,aveSpeed:o}},d=function(e,t){return!!e.replace(/^http:/,"").replace(/^https:/,"").match(t.replace(/^http:/,"").replace(/^https:/,""))},u={install:function(e,t){var n=t.time,i=void 0===n?300:n,u=t.fade,l=void 0!==u&&u,f=t.speed,p=void 0===f?0:f,_=t.preload,w=void 0===_?0:_;p>0&&o.default(),e.directive("lazyload",{inserted:function(e,t,n,o){function u(){e.onload=function(){},e.removeEventListener("error",u),r.delete(_),c.delete(v)}if(e&&!d(e.src,t.value)){l&&(e.style.opacity="0"),e.src||(e.src="data:image/gifbase64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");var f={lastPos:document.body.getBoundingClientRect().top,lastSpeeds:[],aveSpeed:0};e.newSrc=t.value;var _=function(){if(e.newSrc&&e.newSrc!==e.src){if(0==p)return void a(e,i,w);f=s(f),f.aveSpeed>p||a(e,i,w)}},v=function(){e.newSrc&&e.newSrc!==e.src&&a(e,i,w)};e.__scrollListener__=_,e.__scrollEndListener__=v,e.onload=function(){e.onload=function(){},e.removeEventListener("error",u),a(e,i,w),r.add(_),p>0&&c.add(v)},e.addEventListener("error",u)}},update:function(e,t){d(e.src,t.value)||(e.style.opacity="0",e.style.transition="opacity "+i/2+"ms",e.newSrc=t.value,setTimeout(function(){a(e,i/2,w)},150))}})}};t.default=u},function(e,t,n){"use strict";function o(){function e(){t!==n&&5===++o&&(window.dispatchEvent(i),t=n),requestAnimationFrame(e)}var t=0,n=0,o=0,i=document.createEvent("HTMLEvents");i.initEvent("scrollEnd",!0,!1),i.eventType="message",window.requestAnimationFrame(e),window.addEventListener("scroll",function(){n=t,o=0,t++})}t.__esModule=!0,window.requestAnimationFrame||(window.webkitRequestAnimationFrame?window.requestAnimationFrame=window.webkitRequestAnimationFrame:window.requestAnimationFrame=function(e){return setTimeout(function(){e(0)},1e3/60),0}),t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var o=0,i=function(){function e(){this._map={}}return e.prototype.add=function(e){e.__cid__=o,o++,this._map[e.__cid__]=e},e.prototype.delete=function(e){e&&e.__cid__&&this._map.hasOwnProperty(e.__cid__)&&delete this._map[e.__cid__]},e.prototype.forEach=function(e){for(var t in this._map)this._map.hasOwnProperty(t)&&e(this._map[t])},e}();t.default=i}])});
//# sourceMappingURL=vue.lazyimg.min.js.map